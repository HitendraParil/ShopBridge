(this["webpackJsonpShop-bridge"]=this["webpackJsonpShop-bridge"]||[]).push([[0],{54:function(e,t,r){},55:function(e,t,r){},81:function(e,t,r){"use strict";r.r(t);var c={};r.r(c),r.d(c,"ProductReducer",(function(){return X}));var a=r(0),n=r.n(a),o=r(12),d=r.n(o),i=(r(54),r(55),r(88)),s=r(2);function l(){return Object(s.jsx)("div",{children:Object(s.jsx)(i.a,{bg:"danger",variant:"dark",children:Object(s.jsx)(i.a.Brand,{href:"#home",children:Object(s.jsx)("strong",{children:"ShopBridge"})})})})}var u=r(27),p=r(7),j=r(40),h=r(41),b=r(49),O=r(47),g=r(28),y=r(15),m=r(38),x=r(39),f=r(43),v=r.n(f);function I(e,t,r,c){return(void 0===e||""===e||null==e)&&(t[r]=c,!0)}var C="GET_ALL_PRODUCT",P="ADD_PRODUCT",N="GET_PRODUCT_BY_ID",S="UPDATE_PRODUCT",w="DELETE_PRODUCT",D=function(){return{type:C}},B=function(e){return{type:P,payload:e}},T=function(e){return{type:N,payload:e}},A=function(e){return{type:S,payload:e}},M=function(e){return{type:w,payload:e}},k=r(84),E=r(45),F=r(89),L=r(85),R=r(87),G=r(86),U=r(83);function _(e){return Object(s.jsx)("div",{children:Object(s.jsxs)(G.a,Object(p.a)(Object(p.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",children:[Object(s.jsx)(G.a.Header,{closeButton:!0,children:Object(s.jsx)(G.a.Title,{id:"contained-modal-title-vcenter",children:e.title})}),Object(s.jsx)(G.a.Body,{className:"show-grid",children:Object(s.jsx)(U.a,{children:e.children})}),Object(s.jsxs)(G.a.Footer,{children:[Object(s.jsx)(F.a,{onClick:e.onHide,children:"Close"}),e.submitText?Object(s.jsx)(F.a,{variant:"danger",onClick:e.onSubmit,children:e.submitText}):""]})]}))})}var H=[{categoryId:1,categoryName:"Vegetables"},{categoryId:2,categoryName:"Fruits"},{categoryId:3,categoryName:"Glossary"}];function q(e){var t=e.errors,r=e.product,c=r.categoryId,a=r.productName,n=r.description,o=r.price;return Object(s.jsx)(_,{title:e.title,submitText:e.submitText,onSubmit:e.onSubmit,show:e.show,onHide:function(){return e.onHide()},children:Object(s.jsxs)(R.a,{children:[Object(s.jsxs)(R.a.Group,{controlId:"productName",children:[Object(s.jsx)(R.a.Label,{children:"Product Name"}),Object(s.jsx)(R.a.Control,{type:"text",name:"productName",value:a,onChange:e.handleInputChange,placeholder:"Enter product name"}),t.productName&&Object(s.jsx)("label",{htmlFor:"categoryName",className:"error",children:t.productName})]}),Object(s.jsxs)(R.a.Group,{controlId:"Email",children:[Object(s.jsx)(R.a.Label,{children:"Category"}),Object(s.jsxs)("select",{name:"categoryId",value:c,onChange:e.handleInputChange,className:"form-control",children:[Object(s.jsx)("option",{value:"",children:"Select Category"}),H&&Array.isArray(H)&&H.map((function(e){return Object(s.jsx)("option",{value:e.categoryId,children:e.categoryName},e.categoryId)}))]}),t.categoryId&&Object(s.jsx)("label",{htmlFor:"categoryName",className:"error",children:t.categoryId})]}),Object(s.jsxs)(R.a.Group,{controlId:"price",children:[Object(s.jsx)(R.a.Label,{children:"Price"}),Object(s.jsx)(R.a.Control,{type:"number",name:"price",placeholder:"Enter price",value:o,onChange:e.handleInputChange}),t.price&&Object(s.jsx)("label",{htmlFor:"categoryName",className:"error",children:t.price})]}),Object(s.jsxs)(R.a.Group,{controlId:"Description",children:[Object(s.jsx)(R.a.Label,{children:"Description"}),Object(s.jsx)(R.a.Control,{type:"text",as:"textarea",name:"description",placeholder:"Enter Description",value:n,onChange:e.handleInputChange}),t.description&&Object(s.jsx)("label",{htmlFor:"categoryName",className:"error",children:t.description})]})]})})}var J=function(e){Object(b.a)(r,e);var t=Object(O.a)(r);function r(e){var c;return Object(j.a)(this,r),(c=t.call(this,e)).handleInputChange=function(e){var t=e.target.name,r=e.target.value;c.setState({product:Object(p.a)(Object(p.a)({},c.state.product),{},Object(u.a)({},t,r))})},c.getCategoryName=function(e){var t=H.filter((function(t){return t.categoryId==e}));return t.length>0?t[0].categoryName:""},c.getProductById=function(e){var t=e.productId;c.props.getProductById(t),c.openModal()},c.deleteProduct=function(e){var t=e.productId;c.setState({isShow:!0,productId:t})},c.onConfirm=function(){c.props.deleteProduct(c.state.productId),c.setState({isShow:!1,productId:null})},c.handlesubmit=function(){var e=c.state.product;c.validateInput()&&(e.productId?(c.props.updateProduct(e),c.closeModal()):(c.props.AddProduct(e),c.closeModal()))},c.validateInput=function(){var e={},t=c.state.product,r=t.productName,a=t.price,n=t.description,o=t.categoryId;return I(r,e,"productName","Product name is required"),I(a,e,"price","Price is required"),I(n,e,"description","Description is required"),I(o,e,"categoryId","Please select category"),c.setState({errors:e}),0===Object.keys(e).length},c.openModal=function(){c.setState({isModalShow:!0})},c.closeModal=function(){c.setState({isModalShow:!1}),c.setState({product:{}}),c.setState({errors:{}})},c.state={isModalShow:!1,product:{},isShow:!1,productId:null,errors:{}},c}return Object(h.a)(r,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.state.product!==e.productsData.singleProduct?this.setState({product:e.productsData.singleProduct}):this.setState({product:{}})}},{key:"render",value:function(){var e=this,t=this.props.productsData.products,r=this.state,c=r.isModalShow,a=r.product,n=r.errors;return Object(s.jsxs)("div",{className:"mt-60",children:[Object(s.jsxs)(k.a,{className:"mb-20",children:[Object(s.jsx)(E.a,{sm:10,children:Object(s.jsx)("h2",{children:"Products Management "})}),Object(s.jsx)(E.a,{sm:2,children:Object(s.jsx)(F.a,{variant:"primary",onClick:this.openModal,children:"Add Product"})})]}),Object(s.jsx)(k.a,{children:Object(s.jsxs)(E.a,{sm:12,children:[c&&Object(s.jsx)(q,{title:a&&a.productId?"Update Product":"Add Product",show:c,handleInputChange:this.handleInputChange,onHide:this.closeModal,product:a,errors:n,onSubmit:this.handlesubmit,submitText:a&&a.productId?"Update":"Add"}),Object(s.jsxs)(L.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"Category"}),Object(s.jsx)("th",{children:"Description"}),Object(s.jsx)("th",{children:"Price"}),Object(s.jsx)("th",{children:"Actions"})]})}),Object(s.jsx)("tbody",{children:t&&Array.isArray(t)&&t.length>0?t.map((function(t,r){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:r+1}),Object(s.jsx)("td",{children:t.productName}),Object(s.jsx)("td",{children:e.getCategoryName(t.categoryId)}),Object(s.jsx)("td",{width:"30%",children:t.description}),Object(s.jsx)("td",{children:t.price}),Object(s.jsxs)("td",{children:[Object(s.jsx)(F.a,{variant:"primary",onClick:function(){return e.getProductById(t)},style:{marginRight:"20px"},children:Object(s.jsx)(m.a,{icon:x.a})}),Object(s.jsx)(F.a,{variant:"danger",onClick:function(){return e.deleteProduct(t)},children:Object(s.jsx)(m.a,{icon:x.b})})]})]},r)})):null})]})]})}),Object(s.jsx)(v.a,{warning:!0,showCancel:!0,show:this.state.isShow,confirmBtnText:"YES",confirmBtnBsStyle:"danger",title:"Are you sure you want to delete ?",onConfirm:this.onConfirm,onCancel:function(){return e.setState({isShow:!1})},focusCancelBtn:!0})]})}}]),r}(a.Component),Y=Object(g.b)((function(e){return{productsData:e.ProductReducer}}),(function(e,t){return Object(y.b)({getAllProducts:D,getProductById:T,AddProduct:B,updateProduct:A,deleteProduct:M},e)}))(J);var V=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(l,{}),Object(s.jsx)("div",{className:"wrapper center",children:Object(s.jsx)(Y,{})})]})},W=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,90)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,o=t.getTTFB;r(e),c(e),a(e),n(e),o(e)}))},z=(r(80),r(46)),K=r(48),Q={loading:!1,products:[{productId:1,categoryId:1,productName:"Carrot(Gajar)",description:"Description Baby Potato is a starchy vegetable which is popularly used in many recipes.",price:20},{productId:2,categoryId:1,productName:"Cauliflower",description:"Description Baby Potato is a starchy vegetable which is popularly used in many recipes.",price:25},{productId:3,categoryId:2,productName:"Chili",description:"Description Baby Potato is a starchy vegetable which is popularly used in many recipes.",price:15},{productId:4,categoryId:2,productName:"coconut",description:"Description Baby Potato is a starchy vegetable which is popularly used in many recipes.",price:40}],singleProduct:{},error:null},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(p.a)(Object(p.a)({},e),{},{products:e.products});case N:var r=e.products.filter((function(e){return t.payload==e.productId}));return Object(p.a)(Object(p.a)({},e),{},{singleProduct:r.length>0?r[0]:{}});case P:t.payload.productId=e.products.length+1;var c=[].concat(Object(K.a)(e.products),[t.payload]);return Object(p.a)(Object(p.a)({},e),{},{products:c});case S:var a=e.products.map((function(e){return t.payload.productId!==e.productId?e:t.payload}));return Object(p.a)(Object(p.a)({},e),{},{products:a});case w:var n=e.products.filter((function(e){return t.payload!==e.productId}));return Object(p.a)(Object(p.a)({},e),{},{products:n});default:return e}},Z=Object(y.c)(Object.assign({},c)),$=Object(y.d)(Object(y.a)(z.a)),ee=Object(y.e)(Z,$);d.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(g.a,{store:ee,children:Object(s.jsx)(V,{})})}),document.getElementById("root")),W()}},[[81,1,2]]]);
//# sourceMappingURL=main.b22dc949.chunk.js.map